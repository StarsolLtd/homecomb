{% extends "home-base.html.twig" %}

{% block title %}{{ site_name }}{% endblock %}

{% block navbar %}{% endblock %}

{% block content %}
    <div class="w-100 align-self-center text-center" style="padding-bottom: 15%;">
        <div id="home-root"></div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ encore_entry_script_tags('app') }}
    {{ encore_entry_script_tags('home') }}
    <script type="text/javascript">
        $( function() {
            $("#propertySearch").autocomplete({
                source: "/api/property/suggest-property",
                minLength: 3,
                select: function(event, ui){
                    $.get('/api/property/lookup-slug-from-vendor-id?vendorPropertyId=' + ui.item.id, function( data ) {
                        location.href = '/property/' + data.slug;
                    });
                }
            });
        } );
    </script>
{% endblock %}
